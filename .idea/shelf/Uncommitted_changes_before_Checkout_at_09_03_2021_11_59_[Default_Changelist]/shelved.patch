Index: app/src/main/java/id/calocallo/sicape/ui/main/choose/lp/ListLpSkhdActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package id.calocallo.sicape.ui.main.choose.lp\r\n\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.Menu\r\nimport android.view.View\r\nimport android.widget.Toast\r\nimport androidx.appcompat.widget.SearchView\r\nimport id.calocallo.sicape.R\r\nimport id.calocallo.sicape.model.PersonelLapor\r\nimport id.calocallo.sicape.network.NetworkConfig\r\nimport id.calocallo.sicape.network.response.*\r\nimport id.calocallo.sicape.ui.main.choose.lhp.ChooseLhpActivity\r\nimport id.calocallo.sicape.utils.SessionManager1\r\nimport id.calocallo.sicape.utils.ext.gone\r\nimport id.calocallo.sicape.utils.ext.visible\r\nimport id.co.iconpln.smartcity.ui.base.BaseActivity\r\nimport kotlinx.android.synthetic.main.activity_list_lp_skhd.*\r\nimport kotlinx.android.synthetic.main.activity_lp_choose.*\r\nimport kotlinx.android.synthetic.main.activity_lp_choose.rv_list_lp_choose\r\nimport kotlinx.android.synthetic.main.item_2_text.view.*\r\nimport kotlinx.android.synthetic.main.layout_1_text_clickable.view.*\r\nimport kotlinx.android.synthetic.main.layout_edit_1_text.view.*\r\nimport kotlinx.android.synthetic.main.layout_progress_dialog.*\r\nimport id.co.iconpln.smartcity.ui.base.BaseActivity\r\nimport kotlinx.android.synthetic.main.layout_toolbar_white.*\r\nimport kotlinx.android.synthetic.main.view_no_data.*\r\nimport org.marproject.reusablerecyclerviewadapter.ReusableAdapter\r\nimport org.marproject.reusablerecyclerviewadapter.interfaces.AdapterCallback\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\n\r\nclass ListLpSkhdActivity : BaseActivity() {\r\n    private lateinit var sessionManager1: SessionManager1\r\n\r\n    private var listPidanaLP = ArrayList<LpResp>()\r\n    private var listDisiplinLP = ArrayList<LpDisiplinResp>()\r\n    private var personelTerLapor = PersonelLapor()\r\n    private var personelPeLapor = PersonelLapor()\r\n    private var satKerResp = SatKerResp()\r\n    private var listPasal = arrayListOf<PasalDilanggarResp>()\r\n    private var listSaksi = arrayListOf<LpSaksiResp>()\r\n\r\n    private var adapterLpChoose = ReusableAdapter<LpMinResp>(this)\r\n    private lateinit var callbackLpChoose: AdapterCallback<LpMinResp>\r\n\r\n\r\n    private var adapterLpPidanaChoose = ReusableAdapter<LpResp>(this)\r\n    private lateinit var callbackLpChoose: AdapterCallback<LpResp>\r\n    private var adapterLpDisiplinChoose = ReusableAdapter<LpDisiplinResp>(this)\r\n    private lateinit var callbackLpDisiplinChoose: AdapterCallback<LpDisiplinResp>\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_list_lp_skhd)\r\n        sessionManager1 = SessionManager1(this)\r\n\r\n        setupActionBarWithBackButton(toolbar)\r\n        supportActionBar?.title = \"Data Laporan Polisi\"\r\n        /*set idLHP for getlist lp*/\r\n//        val idLhp = intent.extras?.getInt(ChooseLpSkhdActivity.ID_LHP_FOR_LP)\r\n//        Log.e(\"ListLpSkhd\", \"$idLhp\")\r\n\r\n        val dataLhp = intent.getParcelableExtra<LhpMinResp>(ChooseLhpActivity.DATA_LHP)\r\n        Log.e(TAG, \"$dataLhp\")\r\n\r\n        apiListLpByLhp(dataLhp)\r\n\r\n        /* val jenisLPFromSkhd = intent.extras?.getString(ChooseLpSkhdActivity.CHOOSE_LP_SKHD)\r\n        when (jenisLPFromSkhd) {\r\n            \"pidana\" -> {\r\n//                getPidana(idLhp)\r\n            }\r\n            \"disiplin\" -> {\r\n                supportActionBar?.title = \"Data Laporan Polisi Disiplin\"\r\n//                getDisiplin(idLhp)\r\n            }\r\n        }\r\n\r\n        satKerResp = SatKerResp(1, \"POLDA\", \"ALAMAT\", \"081210812\", \"\")\r\n        personelTerLapor =\r\n            PersonelLapor(\r\n                1, \"faisal\", \"bripda\", \"jabatan\", \"1234\", 1, \"polda kalsel\", \"Jl Banjarmasin\",\r\n                \"islam\",\r\n                \"laki_laki\",\r\n                \"Batola\", \"12-01-2000\", \"081212\"\r\n            )\r\n        personelPeLapor =\r\n            PersonelLapor(\r\n                2, \"utuh\", \"ipda\", \"jabatan\", \"0987\", 2, \"polresta banjarmasin\", \"Jl Banjarmasin\",\r\n                \"islam\",\r\n                \"laki_laki\",\r\n                \"Batola\", \"12-01-2000\", \"081212\"\r\n            )\r\n               listPasal.add(PasalDilanggarResp(1, \"Pasal 1\", \"LOREM IPSUM DOLOR\", \"\", \"\", \"\"))\r\n               listPasal.add(PasalDilanggarResp(2, \"Pasal 2\", \"LOREM IPSUM DOLOR\", \"\", \"\", \"\"))\r\n               listPasal.add(PasalDilanggarResp(3, \"Pasal 3\", \"LOREM IPSUM DOLOR\", \"\", \"\", \"\"))\r\n               listSaksi.add(LpSaksiResp(1, \"Galuh\", \"korban\", \"\", \"\", \"\", 1, \"\", \"\", \"\"))\r\n               listSaksi.add(LpSaksiResp(2, \"Akbar\", \"saksi\", \"\", \"\", \"\", 0, \"\", \"\", \"\"))\r\n               listSaksi.add(LpSaksiResp(3, \"Wahyu\", \"saksi\", \"\", \"\", \"\", 0, \"\", \"\", \"\"))\r\n\r\n    }\r\n\r\n    private fun getPidana(idLhp: Int?) {\r\n        listPidanaLP.add(\r\n            LpPidanaResp(\r\n                1,\r\n                \"LP/PIDANA/2020/BIDPROPAM\",\r\n                satKerResp,\r\n                personelTerLapor,\r\n                \"Uraian Pelanggaran\",\r\n                \"Banjarmasin\",\r\n                \"12-12-2000\",\r\n                \"Rojak Ahmad\",\r\n                \"Kombes\",\r\n                \"12345678\",\r\n                \"Polair\",\r\n                \"polda Kalsel\",\r\n                \"polisi\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                personelPeLapor,\r\n                resources.getString(R.string.paragraf),\r\n                resources.getString(R.string.paragraf),\r\n                listPasal,\r\n                \"\",\r\n                \"\",\r\n                \"\"\r\n            )\r\n        )\r\n\r\n        listPidanaLP.add(\r\n            LpPidanaResp(\r\n                2,\r\n                \"LP/PIDANA2/2020/BIDPROPAM\",\r\n                satKerResp,\r\n                personelTerLapor,\r\n                \"Uraian Pelanggaran\",\r\n                \"Banjarmasin\",\r\n                \"12-12-2000\",\r\n                \"Rojak Ahmad\",\r\n                \"Kombes\",\r\n                \"12345678\",\r\n                \"Polair\",\r\n                \"polda Kalsel\",\r\n                \"sipil\",\r\n                \"sipil\",\r\n                \"islam\",\r\n                \"pekerjaan\",\r\n                \"Indonesia\",\r\n                \"jl xxx\",\r\n                \"081212\",\r\n                \"123456\",\r\n                null,\r\n                resources.getString(R.string.paragraf),\r\n                resources.getString(R.string.paragraf),\r\n                listPasal,\r\n                \"\",\r\n                \"\",\r\n                \"\"\r\n            )\r\n        )\r\n        callbackLpPidanaChoose = object : AdapterCallback<LpPidanaResp> {\r\n            override fun initComponent(itemView: View, data: LpPidanaResp, itemIndex: Int) {\r\n                itemView.txt_1_clickable.text = data.no_lp\r\n            }\r\n\r\n            override fun onItemClicked(itemView: View, data: LpPidanaResp, itemIndex: Int) {\r\n                itemView.img_clickable.toggleVisibility()\r\n                val intent = Intent()\r\n                intent.putExtra(PIDANA, data)\r\n                setResult(999, intent)\r\n                finish()\r\n            }\r\n        }\r\n        adapterLpPidanaChoose.adapterCallback(callbackLpPidanaChoose)\r\n            .isVerticalView().addData(listPidanaLP)\r\n            .setLayout(R.layout.layout_1_text_clickable).build(rv_choose_lp_skhd)\r\n    }\r\n\r\n     private fun getDisiplin(idLhp: Int?) {\r\n         listDisiplinLP.add(\r\n             LpDisiplinResp(\r\n                 1, \"LP/DISIPLIN1\",\r\n                 \"disiplin\", personelTerLapor, personelPeLapor,\r\n                 \"Banjarmasin\", \"12-01-20\", \"Budi\",\r\n                 \"IPDA\", \"87654321\", \"KOMBES\", \"polda kALSEEL\",\r\n                 \"macam_pelanggaran\", \"keterangan terlapor\",\r\n                 \"kronologis\", \"rincian\", listPasal, satKerResp, \"\", \"\"\r\n             )\r\n         )\r\n         callbackLpDisiplinChoose = object : AdapterCallback<LpDisiplinResp> {\r\n             override fun initComponent(itemView: View, data: LpDisiplinResp, itemIndex: Int) {\r\n                 itemView.txt_1_clickable.text = data.no_lp\r\n\r\n             }\r\n\r\n             override fun onItemClicked(itemView: View, data: LpDisiplinResp, itemIndex: Int) {\r\n                 itemView.img_clickable.toggleVisibility()\r\n                 val intent = Intent()\r\n                 intent.putExtra(DISIPLIN, data)\r\n                 setResult(888, intent)\r\n                 finish()\r\n             }\r\n         }\r\n         adapterLpDisiplinChoose.adapterCallback(callbackLpDisiplinChoose)\r\n             .isVerticalView().addData(listDisiplinLP)\r\n             .setLayout(R.layout.layout_1_text_clickable).build(rv_choose_lp_skhd)\r\n     }*/\r\n\r\n\r\n    }\r\n\r\n    private fun apiListLpByLhp(dataLhp: LhpMinResp?) {\r\n        rl_pb.visible()\r\n        NetworkConfig().getServLp()\r\n            .getLpByJenis(\"Bearer ${sessionManager1.fetchAuthToken()}\", \"pidana\").enqueue(\r\n                object : Callback<ArrayList<LpMinResp>> {\r\n                    override fun onResponse(\r\n                        call: Call<ArrayList<LpMinResp>>,\r\n                        response: Response<ArrayList<LpMinResp>>\r\n                    ) {\r\n                        if (response.isSuccessful) {\r\n                            rl_pb.gone()\r\n                            getListLpByLhp(response.body())\r\n                        } else {\r\n                            rl_pb.gone()\r\n                            rl_no_data.visible()\r\n                            rv_choose_lp_skhd.gone()\r\n                        }\r\n                    }\r\n\r\n                    override fun onFailure(call: Call<ArrayList<LpMinResp>>, t: Throwable) {\r\n                        Toast.makeText(this@ListLpSkhdActivity, \"$t\", Toast.LENGTH_SHORT).show()\r\n                        rl_pb.gone()\r\n                        rl_no_data.visible()\r\n                        rv_choose_lp_skhd.gone()\r\n                    }\r\n                })\r\n\r\n//        getListLpByLhp(response.body())\r\n    }\r\n\r\n    private fun getListLpByLhp(list: ArrayList<LpMinResp>?) {\r\n        callbackLpChoose = object : AdapterCallback<LpMinResp> {\r\n            override fun initComponent(itemView: View, data: LpMinResp, itemIndex: Int) {\r\n                itemView.txt_1_clickable.text = data.no_lp\r\n            }\r\n\r\n            override fun onItemClicked(itemView: View, data: LpMinResp, itemIndex: Int) {\r\n                /**\r\n                 * get ID And go to previous activity\r\n                 */\r\n                itemView.img_clickable.visible()\r\n                val intent = Intent().apply {\r\n                    this.putExtra(DATA_LP, data)\r\n                }\r\n                setResult(RESULT_LP, intent)\r\n                finish()\r\n            }\r\n\r\n        }\r\n        list?.let {\r\n            adapterLpChoose.adapterCallback(callbackLpChoose)\r\n                .isVerticalView()\r\n                .filterable().addData(it).setLayout(R.layout.layout_1_text_clickable)\r\n                .build(rv_choose_lp_skhd)\r\n        }\r\n    }\r\n\r\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\r\n        menuInflater.inflate(R.menu.search_bar, menu)\r\n        val item = menu?.findItem(R.id.action_search)\r\n        val searchView = item?.actionView as SearchView\r\n        searchView.queryHint = \"Cari Lp\"\r\n\r\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\r\n            override fun onQueryTextSubmit(query: String?): Boolean {\r\n                return false\r\n            }\r\n\r\n            override fun onQueryTextChange(newText: String?): Boolean {\r\n                adapterLpChoose.filter.filter(newText)\r\n                return true\r\n            }\r\n\r\n        })\r\n        return super.onCreateOptionsMenu(menu)\r\n    }\r\n\r\n    companion object {\r\n        const val PIDANA = \"PIDANA\"\r\n        const val DISIPLIN = \"DISIPLIN\"\r\n        const val TAG = \"--ListLpSkhdActivity\"\r\n        const val RESULT_LP = 23\r\n        const val DATA_LP = \"DATA_LP\"\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/id/calocallo/sicape/ui/main/choose/lp/ListLpSkhdActivity.kt	(revision a4632c61288ca374abf9b66152da17b219b8e746)
+++ app/src/main/java/id/calocallo/sicape/ui/main/choose/lp/ListLpSkhdActivity.kt	(date 1615265804498)
@@ -1,5 +1,6 @@
 package id.calocallo.sicape.ui.main.choose.lp
 
+import android.content.Intent
 import android.os.Bundle
 import android.util.Log
 import android.view.Menu
@@ -14,10 +15,8 @@
 import id.calocallo.sicape.utils.SessionManager1
 import id.calocallo.sicape.utils.ext.gone
 import id.calocallo.sicape.utils.ext.visible
-import id.co.iconpln.smartcity.ui.base.BaseActivity
 import kotlinx.android.synthetic.main.activity_list_lp_skhd.*
 import kotlinx.android.synthetic.main.activity_lp_choose.*
-import kotlinx.android.synthetic.main.activity_lp_choose.rv_list_lp_choose
 import kotlinx.android.synthetic.main.item_2_text.view.*
 import kotlinx.android.synthetic.main.layout_1_text_clickable.view.*
 import kotlinx.android.synthetic.main.layout_edit_1_text.view.*
@@ -34,22 +33,9 @@
 class ListLpSkhdActivity : BaseActivity() {
     private lateinit var sessionManager1: SessionManager1
 
-    private var listPidanaLP = ArrayList<LpResp>()
-    private var listDisiplinLP = ArrayList<LpDisiplinResp>()
-    private var personelTerLapor = PersonelLapor()
-    private var personelPeLapor = PersonelLapor()
-    private var satKerResp = SatKerResp()
-    private var listPasal = arrayListOf<PasalDilanggarResp>()
-    private var listSaksi = arrayListOf<LpSaksiResp>()
-
     private var adapterLpChoose = ReusableAdapter<LpMinResp>(this)
     private lateinit var callbackLpChoose: AdapterCallback<LpMinResp>
 
-
-    private var adapterLpPidanaChoose = ReusableAdapter<LpResp>(this)
-    private lateinit var callbackLpChoose: AdapterCallback<LpResp>
-    private var adapterLpDisiplinChoose = ReusableAdapter<LpDisiplinResp>(this)
-    private lateinit var callbackLpDisiplinChoose: AdapterCallback<LpDisiplinResp>
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_list_lp_skhd)
